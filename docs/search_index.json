[["onboarding.html", "Onboarding Lab structure How to Onboard to EJ Lab Code Organization Data Storage Basics of GitHub", " Onboarding Lab structure The lab consists of one Principal Investigator (PI), Kay Jowers (the Director of the Just Environments program at the Nicholas Institute and Kenan Institute), one staff as EJ Lab manager, faculty research partners, and graduate and undergraduate paid student research assistants. The research lab consisting of students, Dr. Jowers, and lab manager meet weekly in person. Meetings start with a rose/bud/thorn check-in, followed by a presentation by a lab member, and a factoid or figure share by a third lab member. Mostly, each student is working on one project in collaboration with the PI or other faculty partner on a relatively long term basis. Research meetings between the lab PIs and students help define the structure and goals of the project, help to move research forward and troubleshoot things that come up throughout the process, but most work happens pretty independently. How to Onboard to EJ Lab The following is important for any research affiliate (faculty or otherwise) or student. 0.0.1 Tasks for research affiliates and students Ensure you have duo/multi-factor authentication. See the following two links from OIT for more information: ** https://oit.duke.edu/service/duo/ ** Registering a device with Duo: https://idms-mfa.oit.duke.edu/mfa/home Install VPN: ** To install VPN on mac, follow these instructions from Duke: https://vcm.duke.edu/help/15 Windows: In Windows XP, Vista, and Windows 7, RDC is located under Start &gt; All Programs &gt; Accessories &gt; Remote Desktop Connection. To access RDC in Windows 8, press WIN+F &gt; Apps &gt; Windows Accessories &gt; Remote Desktop Client. Mac OS X: Older versions of Remote Desktop will cause errors. You can get the most recent version at the app store: https://itunes.apple.com/us/app/microsoft-remote-desktop-10/id1295203466?mt=12 (link is external) (or search for Microsoft Remote Desktop for Mac). Some users have reported they needed to delete their older version for the new version to work properly. ***Linux/Unix: The most commonly used client is called rdesktop, included in most distributions of Linux. If it is not present, it can be downloaded from a third party site: http://www.rdesktop.org (link is external). Connect to VPN: Instructions from Duke: https://oit.duke.edu/help/articles/kb0028460/ Multi-factor authentication is required when connecting to Duke’s virtual private network (VPN). Do the following: Open the Cisco AnyConnect application or visit https://portal.duke.edu Select the desired VPN and click Connect. Vpn.duke.edu Enter your NetID and password and click OK. In the MFA Option field, do one of the following: Enter “1” - To receive push notification to your device’s mobile app. This is the most portable option and also allows for access if you don’t have service or Wi-Fi in your area. Enter “2” - To authenticate by receiving a phone call. Enter “3” - To receive ten temporary passcodes via text message. Each passcode may be used once – they expire 72 hours after they are issued. Enter one of those codes into the MFA Option field. To use a YubiKey, connect the YubiKey to your computer, put your cursor in the MFA Option field, and touch the YubiKey’s sensor. A code will automatically be generated. **Click Continue. You are connected to the VPN. 0.0.2 Tasks for non-Duke-affiliated research affiliates: Guest affiliate account: Kay Jowers or lab manager should request a guest account from Duke OIT: https://accounts.oit.duke.edu/sponsor . The affiliate will receive an ameil 0.0.3 Tasks for EJ Lab staff Research Toolkits - set permissions request guest account, if applicable (see above) if any IT links are outdated above, email IT and request updated information Code Organization Code for lab projects all lives in the lab GitHub. Many of the repos discussed below are set to only be accessible to members of the GitHub lab group, so be sure to request access. Individual Code Organization Each lab project will have it’s own GitHub repository, which should be reproducible by people within lab. All lab projects start from a reproducible project template. Starting all projects from this file structure gives a framework that helps make our data and code more uniform, helping with reproducibility and keeping institutional knowledge as students join and leave projects. This template is set up with example R files, but the same ideas apply regardless of the language you’re using. The template repo itself documents what should go in what folder, and includes examples of documentation and commenting throughout code files. An example of the template in use is the COVID housing precarity repo. External examples for how a publishable repo can look: The Changing Risk and Burden of Wildfire in the United States. Once you have access to the lab GitHub, you should be able to create repositories for each of your own projects. Details on that can be found in the section on starting a project. Lab Code Organization There are two communal GitHub code repositories to know about: The lab.tools repo, which is an R package that everyone can add to and use in their code. You can find more information about how to contribute in the workflow section. It contains some helpful little functions like detach_all_packages() that lets you quickly wipe all the loaded functions from your environment - as well as some helpful analysis functions like merge_verbose() which wraps the normal merge function but outputs some info on the success of the merge or simplify_and_combine_shapefiles() which takes in a vector of file paths, simplifies the shapefiles and returns a master file, which is useful when data is served at a state level. You can install the lab.tools package through first loading the devtools package, then running install_github(\"Duke-EJ-Lab/lab.tools\"). Then just load as a normal library using library(lab.tools). The general_cleaning repo, which serves to ensure we know the origin of all our communal lab data. There’s more information about how to interact with the repo in the workflow section. In addition to the code repositories, this EJ_Lab_Starter_Guide repo is something you can access and update. Details on how to do that are in the guide section. Data Storage Lab data is stored only be in Duke Box, or one of the lab VM’s - not a personal computer, not dropbox, not a hard drive under the desk in Kay’s office. To get access to both of these, talk to Kay. Box The EJ Lab Box has three main folders, projects, clean, and raw. raw is effectively a read-only folder. Data is added relatively rarely and it’s important when things are added to the raw folder to document well when the data was downloaded, how to obtain the data (a link to download/an email for who to contact to get access), and what the data means (a data dictionary). More details about the exact way to do this are in the workflow section. clean holds processed data that you might want to directly pull into a project. For something to get added to clean a few conditions need to be met: the raw data is in the raw folder, and the code that cleans it is in the lab cleaning github. This is only for data that might be useful for someone else on a different lab project. A dataset to include might be: the average PM for every year 2000-2020 for each county in the contiguous US. A dataset not to include might be: a panel that includes 21 day rolling mean county level PM observation that you built to purpose for a model. projects is the folder that contains a folder for each active or completed project. While we’d recommend a structure that at least separates your raw data, clean data and any docs files you have (eg literature reviews, research updates, other notes to self, etc) - this is a space each RA can do whatever they please with. Below is a minimal representation of what the Box structure looks like. ejlab ├── projects │ ├── covid_housing_precarity │ ├── covid_rental_discrimination │ └── cafos_nc ├── clean │ ├── boundaries │ ├── rsei │ ├── polidata │ └── pm25 └── raw ├── boundaries ├── rsei ├── polidata └── pm25 VM’s There are a few datasets that should only exist on Duke owned machines (the VM’s) or (if they have even higher protections) that can only exist in the protected research data network (PRDN). Information on getting access to those spaces can be found in the onboarding section. This includes the original datasets, and ANY data that is created from it/combined with it/modeled using it, excluding simple tables that might be need to go in a publication. The datasets currently used in lab that these protections apply to are: InfoUSA For projects that work with a protected dataset, most of the work will occur on the VM itself. This doesn’t change the workflow very much as all the tools we work through (Box and GitHub Desktop) are available through the VM as well. Basics of GitHub Though it’s much more complicated and has tons of more intricate use cases, at it’s most basic we can think of git as similar to Box. A file exists in Box in the cloud, and sometimes also exists on your local computer. You can make changes on your computer, and that can change what’s in the cloud (and therefore what’s on your friend’s computer). GitHub uses “repositories” (repos) as buckets that contain individual projects. Git is a little more manual than Box though! You have to manually let it know when to take action - and there are 3 actions you need to know about. A commit is basically like saving your progress. You’re telling git to pay attention and create a save point of what’s changed since you last committed. This is the building block of a repo, each commit should be a bite sized change in your work. A push is sending your commits to the cloud. Until you do this, your commits only exist on your computer, and if your colleagues look at your online GitHub repo nothing will have changed. A pull is telling Git to check if anyone else has changed the online repo, and updating what’s on your computer to match. That’s pretty much all you need to know to get started, and you’ll see more about commits and pushing in the next section. In our usage, we’ll always talk about commiting then immediately pushing afterwards, since not doing so can cause complications. From here on we’re describing GitHub through the desktop app because that’s the easiest way to learn about GitHub. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
